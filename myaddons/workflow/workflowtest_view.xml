<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <record model="workflow" id="wkf_mymod">
            <field name="name">workflowtest.test</field>
            <field name="osv">workflowtest</field>
            <field name="on_create" eval='True' />
        </record>

        <record model="workflow.activity" id="act_new">
            <field name="wkf_id" ref="wkf_mymod" />
            <field name="flow_start" eval='True' />
            <field name="name">new</field>
            <field name="kind">function</field>
            <field name="action">mymod_new()</field>
        </record>

        

        <record model="workflow.activity" id="act_mangConfirm">
            <field name="wkf_id" ref="wkf_mymod" />
            <field name="name">mangConfirm</field>
            <field name="kind">function</field>
            <field name="action">mymod_mangConfirm()</field>
        </record>

        <record model="workflow.activity" id="act_assigned">
            <field name="wkf_id" ref="wkf_mymod" />
            <field name="name">assigned</field>
            <field name="kind">function</field>
            <field name="action">mymod_assigned()</field>
        </record>



        <record model="workflow.activity" id="act_comitAccept">
            <field name="wkf_id" ref="wkf_mymod" />
            <field name="name">comitAccept</field>
            <field name="kind">function</field>
            <field name="action">mymod_comitAccept()</field>
            <field name="flow_stop" eval='True' />
        </record>

        <!-- <record model="workflow.activity" id="act_lost">
            <field name="wkf_id" ref="wkf_mymod" />
            <field name="name">lost</field>
            <field name="kind">function</field>
            <field name="action">mymod_lost()</field>
            <field name="flow_stop" eval='True' />
        </record> -->

        <record model="workflow.transition" id="t1">
            <field name="act_from" ref="act_new" />
            <field name="act_to" ref="act_mangConfirm" />
            <field name="signal">mymod_assigned</field>
        </record>

        <record model="workflow.transition" id="t2">
            <field name="act_from" ref="act_mangConfirm" />
            <field name="act_to" ref="act_assigned" />
            <field name="signal">mymod_assigned</field>
        </record>

        <record model="workflow.transition" id="t3">
            <field name="act_from" ref="act_assigned" />
            <field name="act_to" ref="act_comitAccept" />
            <field name="signal">mymod_comitAccept</field>
        </record>

       <!--  <record model="workflow.transition" id="t4">
            <field name="act_from" ref="act_assigned" />
            <field name="act_to" ref="act_lost" />
            <field name="signal">mymod_lost</field>
        </record> -->


        <record id="workflowtest_form" model="ir.ui.view">
            <field name="name">workflow.form</field>
            <field name="model">workflowtest</field>
            <field name="arch" type="xml">
                <form string="WorkFlow" version="7.0">
                    <sheet>
                        <group>
                            <group string="Basic Info">
                                <field name="name" />
                                <field name="age" />
                                <field name="state"/>
                            </group>

                        </group>
                        <separator string="Workflow Actions" colspan="4"/>
                        <group colspan="4" col="3">
                            <button name="mymod_assigned" string="Assigned" states="new" />
                            <button name="mymod_negotiation" string="In Negotiation" states="assigned" />
                            <button name="mymod_won" string="Won" states="negotiation" />
                            <button name="mymod_lost" string="Lost" states="negotiation" />
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="workflow_action" model="ir.actions.act_window">
            <field name="name">WorkFlow Action</field>
            <field name="res_model">workflowtest</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>
        <menuitem id="top_workflow" name="Work Flow" />
        <menuitem id="workflow_menu" name="Work Flow Menu" parent="top_workflow" />
        <menuitem id="workflow_view" name="Show WorkFlow" parent="workflow_menu" action="workflow_action" />

    </data>
</openerp>


        <!--<record id="t2" model="workflow.transition">-->
            <!--<field name="act_from" ref="act_confirm"/>-->
            <!--<field name="act_to" ref="act_accepted"/>-->
            <!--<field name="signal">validate</field>-->
            <!--<field name="group_id" ref="base.group_hr_user"/>-->
        <!--</record>-->